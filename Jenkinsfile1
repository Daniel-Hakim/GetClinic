node {
        cleanWs() 
	stage('compile') { 
                git credentialsId: 'd6643ea6-9bb1-457c-ab65-75c59c7504ee', url: 'https://github.com/chaitu-papa/petclinic.git'
        	sh 'chmod +x gradlew'
        	sh "./gradlew clean build"
        	hygieiaBuildPublishStep buildStatus: 'InProgress'
        	hygieiaArtifactPublishStep artifactDirectory: '/home/ec2-user/workspace/Immutable-infra-demo/petclinic/Infrastructure-aws-cloud/pipeline/hygieiadeliverypipeline/build/libs', artifactGroup: 'org.springframework.samples', artifactName: '*.war', artifactVersion: '1.0.1'
	        hygieiaDeployPublishStep applicationName: 'app_name', artifactDirectory: '/home/ec2-user/workspace/Immutable-infra-demo/petclinic/Infrastructure-aws-cloud/pipeline/hygieiadeliverypipeline/build/libs', artifactGroup: 'org.springframework.samples', artifactName: '*.war', artifactVersion: '1.0.1', buildStatus: 'InProgress', environmentName: "BAKE"
      }
   }

